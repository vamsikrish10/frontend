{"remainingRequest":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Admin/Configuration.vue?vue&type=style&index=0&id=feacddd4&scoped=true&lang=css&","dependencies":[{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Admin/Configuration.vue","mtime":1638913610174},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/css-loader/dist/cjs.js","mtime":1638914723604},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638914722075},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/postcss-loader/src/index.js","mtime":1638914718185},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js","mtime":1638914719606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpib2R5IHsKICBmb250LWZhbWlseTogJ0dUIFdhbHNoZWltIFBybycsIHNhbnMtc2VyaWY7CiAgZGlzcGxheTogdGFibGU7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0YzRjRGNSwgI0QzREZGMyk7Cn0KcCB7CiAgbWFyZ2luOiAwOwogIGZvbnQtZmFtaWx5OiAnR1QgV2Fsc2hlaW0gUHJvJywgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDE2cHg7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBsaW5lLWhlaWdodDogMjRweDsKfQo="},{"version":3,"sources":["Configuration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Configuration.vue","sourceRoot":"src/components/Admin","sourcesContent":["<template>\n    <div class=\"project-configuration-section kk-container\">\n        <a\n            href=\"/\"\n            class=\"logotype-link\"\n        >\n            <img\n                class=\"logo\"\n                v-bind:src=\"kontentLogo\"\n                alt=\"Kentico Kontent Logo\"\n            />\n        </a>\n        <header>\n            <div>\n                <h1 class=\"headline-large\">Sample Siteâ€”Configuration</h1>\n                <p class=\"margin-top-xl\">For your sample app to work, you should have a Kontent project containing content. Your app should be then configured with its project ID. You can either get it by signing in using your Kontent credentials or by signing up for a trial. Later, it will be converted to a free plan.</p>\n                <SpinnerBox\n                    v-if=\"this.preparingProject\"\n                    message=\"Waiting for the sample project to become ready...\"\n                ></SpinnerBox>\n            </div>\n        </header>\n        <section class=\"margin-top-xl\">\n            <h2 class=\"headline-medium\">Get a Project ID</h2>\n            <p class=\"margin-top-l\">You may wish to either select from existing projects or create a new sample project. The app will be configured with its project ID.</p>\n            <form @submit=\"openKenticoKontentProjectSelector\">\n                <input\n                    type=\"submit\"\n                    class=\"button-secondary margin-top-xl\"\n                    value=\"Get Project ID from Kontent\"\n                />\n            </form>\n        </section>\n        <section class=\"section-secondary\">\n            <h2 class=\"headline-medium\">Set A Project ID Manually</h2>\n            <p class=\"margin-top-l\">Alternatively, you can configure your app manually by submitting a project ID below.</p>\n            <div class=\"project-id-form margin-top-xl\">\n                <form @submit=\"handleSetProjectSubmit\">\n                    <div class=\"project-id-form\">\n                        <input\n                            id=\"ProjectGuid\"\n                            name=\"ProjectGuid\"\n                            placeholder=\"Project ID\"\n                            type=\"text\"\n                            class=\"project-id-form__input\"\n                            v-model=\"currentProjectInputValue\"\n                        />\n                        <span class=\"field-validation-valid\"></span>\n                        <input\n                            type=\"submit\"\n                            class=\"button-secondary project-id-form__submit-button\"\n                            value=\"Submit\"\n                        />\n                    </div>\n                </form>\n            </div>\n        </section>\n        <section class=\"section-secondary-two\">\n            <h2 class=\"headline-medium\">Use the Shared Project</h2>\n            <p class=\"margin-top-l\">Alternatively, you may wish to use the shared project (project ID \"{{defaultProjectId}}\").</p>\n            <p class=\"margin-top-l\">\n                <strong>Note:</strong> You cannot edit content in the shared project.\n            </p>\n            <input\n                type=\"submit\"\n                class=\"button-secondary margin-top-xl\"\n                value=\"Use the shared project\"\n                @click=\"setNewProjectId(defaultProjectId)\"\n            />\n        </section>\n    </div>\n</template>\n\n<script>\nimport Cookies from 'universal-cookie';\nimport { isUUID } from 'validator';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\nimport SpinnerBox from '../SpinnerBox.vue';\n\nimport { resetClient, Client } from '../../Client';\nimport { resetStores } from '../../Utilities/StoreManager';\nimport {\n  defaultProjectId,\n  selectedProjectCookieName\n} from '../../Utilities/SelectedProject';\n\nimport kontentLogo from '../../Images/Admin/kk-logo.svg';\n\nconst getWindowCenterPosition = (windowWidth, windowHeight) => {\n  const dualScreenLeft =\n    window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop =\n    window.screenTop !== undefined ? window.screenTop : window.screenY;\n  const screenWidth = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth\n      ? document.documentElement.clientWidth\n      : window.screen.width;\n  const screenHeight = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight\n      ? document.documentElement.clientHeight\n      : window.screen.height;\n  const left = screenWidth / 2 - windowWidth / 2 + dualScreenLeft;\n  const top = screenHeight / 2 - windowHeight / 2 + dualScreenTop;\n  return { left, top };\n};\n\nexport default {\n  name: 'Configuration',\n  data: () => ({\n    currentProjectInputValue: '',\n    preparingProject: false,\n    sampleProjectItemCount: 0,\n    unsubscribeSubject: new Subject(),\n    defaultProjectId: defaultProjectId,\n    kontentLogo: kontentLogo,\n  }),\n  created() {\n    this.currentProjectInputValue = this.projectIdCookie;\n  },\n  mounted() {\n    window.addEventListener('message', this.receiveMessage, false);\n  },\n  beforeDestroy() {\n    window.removeEventListener('message', this.receiveMessage);\n  },\n  methods: {\n    handleSetProjectSubmit(event) {\n      event.preventDefault();\n      const newProjectId = this.currentProjectInputValue;\n      this.setNewProjectId(newProjectId);\n    },\n    unsubscribe() {\n      this.unsubscribe.next();\n      this.unsubscribe.complete();\n      this.unsubscribeSubject = new Subject();\n    },\n    getSampleProjectItemCount() {\n      resetClient(defaultProjectId);\n\n      Client.items()\n        .elementsParameter(['id'])\n        .depthParameter(0)\n        .toObservable()\n        .pipe(takeUntil(this.unsubscribeSubject))\n        .subscribe(response => {\n          this.sampleProjectItemCount = response.items.length;\n        });\n    },\n    setNewProjectId(newProjectId, newlyGeneratedProject) {\n      if (!isUUID(newProjectId)) {\n        const message = `Selected project (${newProjectId}) is not a valid GUID`;\n        // eslint-disable-next-line\n        console.error(message);\n        alert(message);\n        this.currentProjectInputValue = this.projectIdCookie;\n        return;\n      }\n\n      resetClient(newProjectId);\n      resetStores();\n      if (newlyGeneratedProject) {\n        this.waitUntilProjectAccessible(newProjectId);\n        this.preparingProject = true;\n        return;\n      }\n      this.redirectToHome(newProjectId);\n    },\n    waitUntilProjectAccessible(newProjectId) {\n      setTimeout(() => {\n        Client.items()\n          .elementsParameter(['id'])\n          .depthParameter(0)\n          .toObservable()\n          .pipe(takeUntil(this.unsubscribeSubject))\n          .subscribe(response => {\n            if (response.items.length >= this.sampleProjectItemCount) {\n              this.preparingProject = false;\n              this.redirectToHome(newProjectId);\n            } else {\n              this.waitUntilProjectAccessible(newProjectId);\n            }\n          });\n      }, 2000);\n    },\n    redirectToHome(newProjectId) {\n      const infoMessage =\n        newProjectId === defaultProjectId\n          ? 'You\\'ve configured your app to with a project ID of a shared Kentico Kontent project.'\n          : `You've configured your app with a project ID \"${newProjectId}\". You can edit its contents at https://app.kontent.ai/.`;\n      const dataOriginInfo = 'Data on this site originates from Kentico Kontent as well from static JSON resources. To distinguish data sources see https://github.com/Kentico/kontent-sample-app-vue%23Data-origin';\n      this.$router.push(`/?infoMessage=${infoMessage}${dataOriginInfo}`);\n    },\n    receiveMessage(event) {\n      if (event.origin.toLowerCase() !== 'https://app.kontent.ai') return;\n\n      if (!event.data.projectGuid) {\n        return;\n      }\n\n      this.setNewProjectId(\n        event.data.projectGuid,\n        event.data.newlyGeneratedProject\n      );\n    },\n    openKenticoKontentProjectSelector(event) {\n      event.preventDefault();\n      const windowWidth = 800;\n      const windowHeight = 800;\n      const { left, top } = getWindowCenterPosition(windowWidth, windowHeight);\n\n      window.open(\n        'https://app.kontent.ai/sample-site-configuration',\n        'Kentico Kontent',\n        `status=no,width=${windowWidth},height=${windowHeight},resizable=yes,left=\n        ${left},top=${top},toolbar=no,menubar=no,location=no,directories=no`\n      );\n\n      this.getSampleProjectItemCount();\n    }\n  },\n  computed: {\n    cookies() {\n      return new Cookies(document.cookie);\n    },\n    projectIdCookie() {\n      return this.cookies.get(selectedProjectCookieName);\n    }\n  },\n  components: {\n    SpinnerBox\n  }\n};\n</script>\n\n<style scoped>\nbody {\n  font-family: 'GT Walsheim Pro', sans-serif;\n  display: table;\n  width: 100%;\n  background-image: linear-gradient(135deg, #F3F4F5, #D3DFF3);\n}\np {\n  margin: 0;\n  font-family: 'GT Walsheim Pro', sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 24px;\n}\n</style>"]}]}