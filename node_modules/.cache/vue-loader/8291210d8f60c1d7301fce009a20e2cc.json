{"remainingRequest":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Contacts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Contacts.vue","mtime":1638913610180},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/babel-loader/lib/index.js","mtime":1638914724198},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js","mtime":1638914719606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IENhZmVTdG9yZSB9IGZyb20gJy4uL1N0b3Jlcy9DYWZlJwppbXBvcnQgQ29udGFjdE1hcCBmcm9tICcuL0NvbnRhY3RNYXAudnVlJwppbXBvcnQgVnVlU2Nyb2xsVG8gZnJvbSAndnVlLXNjcm9sbHRvJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250YWN0cycsCiAgcHJvcHM6IFsnbGFuZ3VhZ2UnXSwKICBkYXRhOiAoKSA9PiAoewogICAgY2FmZXM6IFtdLAogICAgc2VsZWN0ZWRBZGRyZXNzOiBudWxsLAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICBjYWZlTW9kZWxzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhZmVzLm1hcCgoY2FmZSkgPT4gdGhpcy5nZXRNb2RlbChjYWZlKSk7CiAgICB9LAogICAgZmlyc3RDYWZlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmKHRoaXMuY2FmZXMubGVuZ3RoID09PSAwKXsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5nZXRNb2RlbCh0aGlzLmNhZmVzWzBdKTsKICAgIH0sCiAgICBjYWZlc0FkZHJlc3NlczogZnVuY3Rpb24oKXsKICAgICAgaWYgKHRoaXMuY2FmZXMubGVuZ3RoID09PSAwKXsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuY2FmZXMubWFwKChjYWZlKSA9PiB7CiAgICAgICAgcmV0dXJuIGAke2NhZmUuY2l0eS52YWx1ZX0sICR7Y2FmZS5zdHJlZXQudmFsdWV9YDsKICAgICAgfSkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsYW5ndWFnZTogZnVuY3Rpb24oKXsKICAgICAgQ2FmZVN0b3JlLnByb3ZpZGVDb21wYW55Q2FmZXModGhpcy5sYW5ndWFnZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNb2RlbDogZnVuY3Rpb24gKGNhZmUpIHsKICAgICAgbGV0IG1vZGVsID0gewogICAgICAgIG5hbWU6IGNhZmUuc3lzdGVtLm5hbWUsCiAgICAgICAgc3RyZWV0OiBjYWZlLnN0cmVldC52YWx1ZSwKICAgICAgICBjaXR5OiBjYWZlLmNpdHkudmFsdWUsCiAgICAgICAgemlwQ29kZTogY2FmZS56aXBDb2RlLnZhbHVlLAogICAgICAgIGNvdW50cnk6IGNhZmUuY291bnRyeS52YWx1ZSwKICAgICAgICBzdGF0ZTogY2FmZS5zdGF0ZS52YWx1ZSwKICAgICAgICBwaG9uZTogY2FmZS5waG9uZS52YWx1ZSwKICAgICAgICBlbWFpbDogY2FmZS5lbWFpbC52YWx1ZSwKICAgICAgfTsKICAgICAgbW9kZWwuZGF0YUFkZHJlc3MgPSBtb2RlbC5jaXR5ICsgJywgJyArIG1vZGVsLnN0cmVldDsKICAgICAgbW9kZWwuY291bnRyeVdpdGhTdGF0ZSA9IG1vZGVsLmNvdW50cnkgKyAobW9kZWwuc3RhdGUgPyAnLCAnICsgbW9kZWwuc3RhdGUgOiAnJyk7CiAgICAgIHJldHVybiBtb2RlbDsKICAgIH0sCiAgICBoYW5kbGVSb2FzdGVyeUNsaWNrOiBmdW5jdGlvbigpewogICAgICBpZih0aGlzLnNlbGVjdGVkQWRkcmVzcyA9PT0gdGhpcy5maXJzdENhZmUuZGF0YUFkZHJlc3MpewogICAgICAgIFZ1ZVNjcm9sbFRvLnNjcm9sbFRvKCcjbWFwJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRyZXNzID0gdGhpcy5maXJzdENhZmUuZGF0YUFkZHJlc3MKICAgIH0sCiAgICBoYW5kbGVBZGRyZXNzQ2xpY2s6IGZ1bmN0aW9uKG1vZGVsKXsKICAgICAgaWYodGhpcy5zZWxlY3RlZEFkZHJlc3MgPT09IG1vZGVsLmRhdGFBZGRyZXNzKXsKICAgICAgICBWdWVTY3JvbGxUby5zY3JvbGxUbygnI21hcCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnNlbGVjdGVkQWRkcmVzcyA9IG1vZGVsLmRhdGFBZGRyZXNzCiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uKCl7CiAgICAgIHRoaXMuY2FmZXMgPSBDYWZlU3RvcmUuZ2V0Q29tcGFueUNhZmVzKHRoaXMubGFuZ3VhZ2UpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24oKSB7CiAgICBDYWZlU3RvcmUuc3Vic2NyaWJlKCk7CiAgICBDYWZlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7CiAgICBDYWZlU3RvcmUucHJvdmlkZUNvbXBhbnlDYWZlcyh0aGlzLmxhbmd1YWdlKTsKICAgIHRoaXMuY2FmZXMgPSBDYWZlU3RvcmUuZ2V0Q29tcGFueUNhZmVzKHRoaXMubGFuZ3VhZ2UpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICBDYWZlU3RvcmUudW5zdWJzY3JpYmUoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24oKXsKICAgIENhZmVTdG9yZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbnRhY3RNYXAsCiAgfSwKfQo="},{"version":3,"sources":["Contacts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Contacts.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"col-md-12\">\n            <h2 class=\"contact-title\">{{$t('Contacts.roasteryTitle')}}</h2>\n            <ul\n                v-if=\"firstCafe\"\n                class=\"contact-info\"\n            >\n                <li>{{firstCafe.phone}}</li>\n                <li><a\n                    :href=\"'mailto:' + firstCafe.email\"\n                    target=\"_top\"\n                >{{firstCafe.email}}</a></li>\n                <li>\n                    <a\n                        @click=\"handleRoasteryClick\"\n                        :data-address=\"firstCafe.dataAddress\"\n                        class=\"js-scroll-to-map\"\n                    >{{firstCafe.dataAddress}},<br/>\n                        {{firstCafe.zipCode}}, {{firstCafe.countryWithState}}<br/>\n                    </a>\n                </li>\n            </ul>\n        </div>\n        <div>\n            <h2>{{$t('Contacts.ourCafesTitle')}}</h2>\n            <div class=\"row\">\n                <div\n                    v-for=\"(model, index) in cafeModels\"\n                    class=\"col-md-6 col-lg-3\"\n                    :key=\"index\"\n                >\n                    <div\n                        @click=\"handleAddressClick(model)\"\n                        class=\"cafe-tile cursor-hand js-scroll-to-map\"\n                        :data-address=\"model.dataAddress\"\n                    >\n                        <div class=\"cafe-tile-content\">\n                            <h3 class=\"cafe-tile-name\">{{model.name}}</h3>\n                            <address class=\"cafe-tile-address\">\n                                <a\n                                    :name=\"model.name\"\n                                    class=\"cafe-tile-address-anchor\"\n                                >\n                                    {{model.street}}, {{model.city}}<br/>{{model.zipCode}}, {{model.countryWithState}}\n                                </a>\n                            </address>\n                            <p>{{model.phone}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <h2 class=\"map-title\">{{$t('Contacts.mapTitle')}}</h2>\n        <ContactMap\n            :cafesAddresses=\"cafesAddresses\"\n            :focusOnAddress=\"selectedAddress\"\n        />\n    </div>\n</template>\n\n<script>\nimport { CafeStore } from '../Stores/Cafe'\nimport ContactMap from './ContactMap.vue'\nimport VueScrollTo from 'vue-scrollto'\n\nexport default {\n  name: 'Contacts',\n  props: ['language'],\n  data: () => ({\n    cafes: [],\n    selectedAddress: null,\n  }),\n  computed: {\n    cafeModels: function () {\n      return this.cafes.map((cafe) => this.getModel(cafe));\n    },\n    firstCafe: function () {\n      if(this.cafes.length === 0){\n        return null;\n      }\n      return this.getModel(this.cafes[0]);\n    },\n    cafesAddresses: function(){\n      if (this.cafes.length === 0){\n        return [];\n      }\n      return this.cafes.map((cafe) => {\n        return `${cafe.city.value}, ${cafe.street.value}`;\n      })\n    }\n  },\n  watch: {\n    language: function(){\n      CafeStore.provideCompanyCafes(this.language);\n    }\n  },\n  methods: {\n    getModel: function (cafe) {\n      let model = {\n        name: cafe.system.name,\n        street: cafe.street.value,\n        city: cafe.city.value,\n        zipCode: cafe.zipCode.value,\n        country: cafe.country.value,\n        state: cafe.state.value,\n        phone: cafe.phone.value,\n        email: cafe.email.value,\n      };\n      model.dataAddress = model.city + ', ' + model.street;\n      model.countryWithState = model.country + (model.state ? ', ' + model.state : '');\n      return model;\n    },\n    handleRoasteryClick: function(){\n      if(this.selectedAddress === this.firstCafe.dataAddress){\n        VueScrollTo.scrollTo('#map');\n        return;\n      }\n      this.selectedAddress = this.firstCafe.dataAddress\n    },\n    handleAddressClick: function(model){\n      if(this.selectedAddress === model.dataAddress){\n        VueScrollTo.scrollTo('#map');\n        return;\n      }\n      this.selectedAddress = model.dataAddress\n    },\n    onChange: function(){\n      this.cafes = CafeStore.getCompanyCafes(this.language);\n    }\n  },\n  mounted: function() {\n    CafeStore.subscribe();\n    CafeStore.addChangeListener(this.onChange);\n    CafeStore.provideCompanyCafes(this.language);\n    this.cafes = CafeStore.getCompanyCafes(this.language);\n  },\n  beforeDestroy: function() {\n    CafeStore.unsubscribe();\n  },\n  destroyed: function(){\n    CafeStore.removeChangeListener(this.onChange);\n  },\n  components: {\n    ContactMap,\n  },\n}\n</script>"]}]}