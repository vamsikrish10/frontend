{"remainingRequest":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/LatestArticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/LatestArticles.vue","mtime":1638913610182},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/babel-loader/lib/index.js","mtime":1638914724198},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js","mtime":1638914719606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFydGljbGVTdG9yZSB9IGZyb20gJy4uL1N0b3Jlcy9BcnRpY2xlJwppbXBvcnQgZGF0ZUZvcm1hdCBmcm9tICdkYXRlZm9ybWF0JwppbXBvcnQgeyBkYXRlRm9ybWF0cyB9IGZyb20gJy4uL1V0aWxpdGllcy9MYW5ndWFnZUNvZGVzJwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXRlc3QtYXJ0aWNsZXMnLAogIHByb3BzOiBbJ2xhbmd1YWdlJ10sCiAgZGF0YTogKCkgPT4gKHsKICAgIGFydGljbGVzOiBbXSwKICAgIGFydGljbGVDb3VudDogNSwKICB9KSwKICBjb21wdXRlZDogewogICAgYXJ0aWNsZXNEYXRhOiBmdW5jdGlvbigpewogICAgICByZXR1cm4gdGhpcy5hcnRpY2xlcy5tYXAoYXJ0aWNsZSA9PiAoewogICAgICAgIGltYWdlTGluazogXy5nZXQoYXJ0aWNsZSwgJ3RlYXNlckltYWdlLnZhbHVlWzBdLnVybCcpLAogICAgICAgIHBvc3REYXRlIDogdGhpcy5mb3JtYXREYXRlKF8uZ2V0KGFydGljbGUsICdwb3N0RGF0ZS52YWx1ZScpKSwKICAgICAgICBzdW1tYXJ5IDogIF8uZ2V0KGFydGljbGUsICdzdW1tYXJ5LnZhbHVlJykgfHwgdGhpcy4kdCgnQXJ0aWNsZS5ub1N1bW1hcnlWYWx1ZScpLAogICAgICAgIGxpbmsgOiBgLyR7dGhpcy5sYW5ndWFnZX0vYXJ0aWNsZXMvJHthcnRpY2xlLnN5c3RlbS5pZH1gLAogICAgICB9KSkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsYW5ndWFnZTogZnVuY3Rpb24oKXsKICAgICAgQXJ0aWNsZVN0b3JlLnByb3ZpZGVBcnRpY2xlcyh0aGlzLmFydGljbGVDb3VudCwgdGhpcy5sYW5ndWFnZSk7CiAgICAgIGRhdGVGb3JtYXQuaTE4biA9IGRhdGVGb3JtYXRzW3RoaXMubGFuZ3VhZ2VdIHx8IGRhdGVGb3JtYXRzWzBdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24odmFsdWUpewogICAgICByZXR1cm4gdmFsdWUgPyBkYXRlRm9ybWF0KHZhbHVlLCAnbW1tbSBkJykgOiB0aGlzLiR0KCdBcnRpY2xlLm5vUG9zdERhdGVWYWx1ZScpOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbigpewogICAgICB0aGlzLmFydGljbGVzID0gQXJ0aWNsZVN0b3JlLmdldEFydGljbGVzKHRoaXMuYXJ0aWNsZUNvdW50LCB0aGlzLmxhbmd1YWdlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7CiAgICBBcnRpY2xlU3RvcmUuc3Vic2NyaWJlKCk7CiAgICBBcnRpY2xlU3RvcmUuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7CiAgICBBcnRpY2xlU3RvcmUucHJvdmlkZUFydGljbGVzKHRoaXMuYXJ0aWNsZUNvdW50LCB0aGlzLmxhbmd1YWdlKTsKICAgIGRhdGVGb3JtYXQuaTE4biA9IGRhdGVGb3JtYXRzW3RoaXMubGFuZ3VhZ2VdIHx8IGRhdGVGb3JtYXRzWzBdOwogICAgdGhpcy5hcnRpY2xlcyA9ICBBcnRpY2xlU3RvcmUuZ2V0QXJ0aWNsZXModGhpcy5hcnRpY2xlQ291bnQsIHRoaXMubGFuZ3VhZ2UpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICBBcnRpY2xlU3RvcmUudW5zdWJzY3JpYmUoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24oKSB7CiAgICBBcnRpY2xlU3RvcmUucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkNoYW5nZSk7CiAgfQp9Cg=="},{"version":3,"sources":["LatestArticles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LatestArticles.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div\n        v-if=\"articlesData.length === 0\"\n        class=\"row\"\n    >\n    </div>\n    <div\n        v-else\n        class=\"row\"\n    >\n        <h1 class=\"title-tab\">{{$t('LatestArticles.latestArticlesTitle')}}</h1>\n        <div class=\"article-tile article-tile-large\">\n            <div class=\"col-md-12 col-lg-6\">\n                <router-link :to=\"articlesData[0].link\">\n                    <img\n                        v-if=\"articlesData[0].imageLink\"\n                        v-bind:alt=\"articlesData[0].title\"\n                        class=\"article-tile-image\"\n                        v-bind:src=\"articlesData[0].imageLink\"\n                        v-bind:title=\"articlesData[0].title\"\n                    />\n                    <span \n                        v-else \n                        class=\"article-tile-image\"\n                    >{{ $t('Article.noTeaserValue') }}</span>\n                </router-link>\n            </div>\n            <div class=\"col-md-12 col-lg-6\">\n                <div class=\"article-tile-date\">\n                    {{articlesData[0].postDate}}\n                </div>\n                <div class=\"article-tile-content\">\n                    <h2>\n                        <router-link :to=\"articlesData[0].link\">{{articlesData[0].title}}</router-link>\n                    </h2>\n                    <p class=\"article-tile-text lead-paragraph\">\n                        {{articlesData[0].summary}}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div\n            v-for=\"(article, key) in articlesData.slice(1)\"\n            class=\"col-md-3\"\n            :key=\"key\"\n        >\n            <div class=\"article-tile\">\n                <router-link :to=\"article.link\">\n                    <img\n                        v-if=\"article.imageLink\"\n                        v-bind:alt=\"'Article' + article.title\"\n                        class=\"article-tile-image\"\n                        v-bind:src=\"article.imageLink\"\n                        v-bind:title=\"'Article' + article.title\"\n                    />\n                    <span \n                        v-else \n                        class=\"article-tile-image\"\n                    >{{ $t('Article.noTeaserValue') }}</span>\n                </router-link>\n                <div class=\"article-tile-date\">\n                    {{article.postDate}}\n                </div>\n                <div class=\"article-tile-content\">\n                    <h2 class=\"h4\">\n                        <router-link :to=\"article.link\">{{article.title}}</router-link>\n                    </h2>\n                    <p class=\"article-tile-text\">\n                        {{article.summary}}\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ArticleStore } from '../Stores/Article'\nimport dateFormat from 'dateformat'\nimport { dateFormats } from '../Utilities/LanguageCodes'\nimport _ from 'lodash';\n\nexport default {\n  name: 'latest-articles',\n  props: ['language'],\n  data: () => ({\n    articles: [],\n    articleCount: 5,\n  }),\n  computed: {\n    articlesData: function(){\n      return this.articles.map(article => ({\n        imageLink: _.get(article, 'teaserImage.value[0].url'),\n        postDate : this.formatDate(_.get(article, 'postDate.value')),\n        summary :  _.get(article, 'summary.value') || this.$t('Article.noSummaryValue'),\n        link : `/${this.language}/articles/${article.system.id}`,\n      }))\n    }\n  },\n  watch: {\n    language: function(){\n      ArticleStore.provideArticles(this.articleCount, this.language);\n      dateFormat.i18n = dateFormats[this.language] || dateFormats[0];\n    }\n  },\n  methods: {\n    formatDate: function(value){\n      return value ? dateFormat(value, 'mmmm d') : this.$t('Article.noPostDateValue');\n    },\n    onChange: function(){\n      this.articles = ArticleStore.getArticles(this.articleCount, this.language);\n    }\n  },\n  mounted: function(){\n    ArticleStore.subscribe();\n    ArticleStore.addChangeListener(this.onChange);\n    ArticleStore.provideArticles(this.articleCount, this.language);\n    dateFormat.i18n = dateFormats[this.language] || dateFormats[0];\n    this.articles =  ArticleStore.getArticles(this.articleCount, this.language);\n  },\n  beforeDestroy: function() {\n    ArticleStore.unsubscribe();\n  },\n  destroyed: function() {\n    ArticleStore.removeChangeListener(this.onChange);\n  }\n}\n</script>"]}]}