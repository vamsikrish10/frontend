{"remainingRequest":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Cafes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/components/Cafes.vue","mtime":1638913610177},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/babel-loader/lib/index.js","mtime":1638914724198},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/vue-loader/lib/index.js","mtime":1638914719606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IENhZmVTdG9yZSB9IGZyb20gJy4uL1N0b3Jlcy9DYWZlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FmZXMnLAogIHByb3BzOiBbJ2xhbmd1YWdlJ10sCiAgZGF0YTogKCkgPT4gKHsKICAgIG91ckNhZmVzOiBbXSwKICAgIHBhcnRuZXJDYWZlczogW10KICB9KSwKICBjb21wdXRlZDogewogICAgbG9jYXRpb25zOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucGFydG5lckNhZmVzRGF0YQogICAgICAgIC5tYXAobW9kZWwgPT4gbW9kZWwubG9jYXRpb24pCiAgICAgICAgLnJlZHVjZSgocmVzdWx0LCBsb2NhdGlvbikgPT4gewogICAgICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKGxvY2F0aW9uKSA8IDApIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2gobG9jYXRpb24pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9LCBbXSkKICAgICAgICAuc29ydCgpOwogICAgfSwKICAgIHBhcnRuZXJDYWZlc0RhdGE6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5wYXJ0bmVyQ2FmZXMubWFwKGNhZmUgPT4gdGhpcy5nZXRNb2RlbChjYWZlKSk7CiAgICB9LAogICAgb3VyQ2FmZXNEYXRhOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMub3VyQ2FmZXMubWFwKGNhZmUgPT4gdGhpcy5nZXRNb2RlbChjYWZlKSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbGFuZ3VhZ2U6IGZ1bmN0aW9uKCkgewogICAgICBDYWZlU3RvcmUucHJvdmlkZUNvbXBhbnlDYWZlcyh0aGlzLmxhbmd1YWdlKTsKICAgICAgQ2FmZVN0b3JlLnByb3ZpZGVQYXJ0bmVyQ2FmZXModGhpcy5sYW5ndWFnZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNb2RlbDogZnVuY3Rpb24oY2FmZSkgewogICAgICBsZXQgbW9kZWwgPSB7CiAgICAgICAgbmFtZTogY2FmZS5zeXN0ZW0ubmFtZSwKICAgICAgICBpbWFnZUxpbms6ICd1cmwoJyArIGNhZmUucGhvdG8udmFsdWVbMF0udXJsICsgJyknLAogICAgICAgIHN0cmVldDogY2FmZS5zdHJlZXQudmFsdWUsCiAgICAgICAgY2l0eTogY2FmZS5jaXR5LnZhbHVlLAogICAgICAgIHppcENvZGU6IGNhZmUuemlwQ29kZS52YWx1ZSwKICAgICAgICBjb3VudHJ5OiBjYWZlLmNvdW50cnkudmFsdWUsCiAgICAgICAgc3RhdGU6IGNhZmUuc3RhdGUudmFsdWUsCiAgICAgICAgcGhvbmU6IGNhZmUucGhvbmUudmFsdWUKICAgICAgfTsKICAgICAgbW9kZWwuZGF0YUFkZHJlc3MgPSBtb2RlbC5jaXR5ICsgJywgJyArIG1vZGVsLnN0cmVldDsKICAgICAgbW9kZWwuY291bnRyeVdpdGhTdGF0ZSA9CiAgICAgICAgbW9kZWwuY291bnRyeSArIChtb2RlbC5zdGF0ZSA/ICcsICcgKyBtb2RlbC5zdGF0ZSA6ICcnKTsKICAgICAgbW9kZWwubG9jYXRpb24gPSBtb2RlbC5jaXR5ICsgJywgJyArIG1vZGVsLmNvdW50cnlXaXRoU3RhdGU7CiAgICAgIHJldHVybiBtb2RlbDsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMub3VyQ2FmZXMgPSBDYWZlU3RvcmUuZ2V0Q29tcGFueUNhZmVzKHRoaXMubGFuZ3VhZ2UpOwogICAgICB0aGlzLnBhcnRuZXJDYWZlcyA9IENhZmVTdG9yZS5nZXRQYXJ0bmVyQ2FmZXModGhpcy5sYW5ndWFnZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIENhZmVTdG9yZS5zdWJzY3JpYmUoKTsKICAgIENhZmVTdG9yZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uQ2hhbmdlKTsKICAgIENhZmVTdG9yZS5wcm92aWRlQ29tcGFueUNhZmVzKHRoaXMubGFuZ3VhZ2UpOwogICAgQ2FmZVN0b3JlLnByb3ZpZGVQYXJ0bmVyQ2FmZXModGhpcy5sYW5ndWFnZSk7CiAgICB0aGlzLm91ckNhZmVzID0gQ2FmZVN0b3JlLmdldENvbXBhbnlDYWZlcyh0aGlzLmxhbmd1YWdlKTsKICAgIHRoaXMucGFydG5lckNhZmVzID0gQ2FmZVN0b3JlLmdldFBhcnRuZXJDYWZlcyh0aGlzLmxhbmd1YWdlKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uKCkgewogICAgQ2FmZVN0b3JlLnVuc3Vic2NyaWJlKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uKCkgewogICAgQ2FmZVN0b3JlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25DaGFuZ2UpOwogIH0KfTsK"},{"version":3,"sources":["Cafes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cafes.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"container\">\n        <h2>{{$t('Cafes.ourCafesTitle')}}</h2>\n        <div class=\"row\">\n            <div\n                v-for=\"(ourCafe, index) in ourCafesData\"\n                class=\"col-md-6\"\n                :key=\"index\"\n            >\n                <div\n                    class=\"cafe-image-tile js-scroll-to-map\"\n                    :data-address=\"ourCafe.dataAddress\"\n                >\n                    <div\n                        class=\"cafe-image-tile-image-wrapper\"\n                        :style=\"{ backgroundImage: ourCafe.imageLink, backgroundSize: 'cover', backgroundPosition: 'right' }\"\n                    >\n                    </div>\n                    <div class=\"cafe-image-tile-content\">\n                        <h3 class=\"cafe-image-tile-name\">{{ourCafe.name}}</h3>\n                        <address class=\"cafe-tile-address\">\n                            <span\n                                :name=\"ourCafe.name\"\n                                class=\"cafe-tile-address-anchor\"\n                            >\n                                {{ourCafe.street}}, {{ourCafe.city}}<br/>{{ourCafe.zipCode}}, {{ourCafe.countryWithState}}\n                            </span>\n                        </address>\n                        <p>{{ourCafe.phone}}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <h2>{{$t('Cafes.partnerCafesTitle')}}</h2>\n        <div class=\"row\">\n            <div\n                v-for=\"(location, index) in locations\"\n                :key=\"index\"\n            >\n                <h3>{{location}}</h3>\n                <p\n                    v-for=\"(partnerCafeModel, index) in partnerCafesData\"\n                    :key=\"index\"\n                    v-if=\"partnerCafeModel.location === location\"\n                >\n                    {{partnerCafeModel.name}}, {{partnerCafeModel.street}}, {{partnerCafeModel.phone}}\n                </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { CafeStore } from '../Stores/Cafe';\n\nexport default {\n  name: 'Cafes',\n  props: ['language'],\n  data: () => ({\n    ourCafes: [],\n    partnerCafes: []\n  }),\n  computed: {\n    locations: function() {\n      return this.partnerCafesData\n        .map(model => model.location)\n        .reduce((result, location) => {\n          if (result.indexOf(location) < 0) {\n            result.push(location);\n          }\n          return result;\n        }, [])\n        .sort();\n    },\n    partnerCafesData: function() {\n      return this.partnerCafes.map(cafe => this.getModel(cafe));\n    },\n    ourCafesData: function() {\n      return this.ourCafes.map(cafe => this.getModel(cafe));\n    }\n  },\n  watch: {\n    language: function() {\n      CafeStore.provideCompanyCafes(this.language);\n      CafeStore.providePartnerCafes(this.language);\n    }\n  },\n  methods: {\n    getModel: function(cafe) {\n      let model = {\n        name: cafe.system.name,\n        imageLink: 'url(' + cafe.photo.value[0].url + ')',\n        street: cafe.street.value,\n        city: cafe.city.value,\n        zipCode: cafe.zipCode.value,\n        country: cafe.country.value,\n        state: cafe.state.value,\n        phone: cafe.phone.value\n      };\n      model.dataAddress = model.city + ', ' + model.street;\n      model.countryWithState =\n        model.country + (model.state ? ', ' + model.state : '');\n      model.location = model.city + ', ' + model.countryWithState;\n      return model;\n    },\n    onChange: function() {\n      this.ourCafes = CafeStore.getCompanyCafes(this.language);\n      this.partnerCafes = CafeStore.getPartnerCafes(this.language);\n    }\n  },\n  mounted: function() {\n    CafeStore.subscribe();\n    CafeStore.addChangeListener(this.onChange);\n    CafeStore.provideCompanyCafes(this.language);\n    CafeStore.providePartnerCafes(this.language);\n    this.ourCafes = CafeStore.getCompanyCafes(this.language);\n    this.partnerCafes = CafeStore.getPartnerCafes(this.language);\n  },\n  beforeDestroy: function() {\n    CafeStore.unsubscribe();\n  },\n  destroyed: function() {\n    CafeStore.removeChangeListener(this.onChange);\n  }\n};\n</script>"]}]}