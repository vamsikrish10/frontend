{"remainingRequest":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/babel-loader/lib/index.js!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/Stores/Brewer.js","dependencies":[{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/Stores/Brewer.js","mtime":1638913610168},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/package.json","mtime":1638913952165},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1638914716023},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/babel-loader/lib/index.js","mtime":1638914724198},{"path":"/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/node_modules/eslint-loader/index.js","mtime":1638914716333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL3NpZGhhcnRoc2l2YS9EZXNrdG9wL0R1bW15L2tvbnRlbnQtc2FtcGxlLWFwcC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3NpZGhhcnRoc2l2YS9EZXNrdG9wL0R1bW15L2tvbnRlbnQtc2FtcGxlLWFwcC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9zaWRoYXJ0aHNpdmEvRGVza3RvcC9EdW1teS9rb250ZW50LXNhbXBsZS1hcHAtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvc2lkaGFydGhzaXZhL0Rlc2t0b3AvRHVtbXkva29udGVudC1zYW1wbGUtYXBwLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3NpZGhhcnRoc2l2YS9EZXNrdG9wL0R1bW15L2tvbnRlbnQtc2FtcGxlLWFwcC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgeyBDbGllbnQgfSBmcm9tICIuLi9DbGllbnQuanMiOwppbXBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CmltcG9ydCB7IGluaXRMYW5ndWFnZUNvZGVPYmplY3QsIGRlZmF1bHRMYW5ndWFnZSB9IGZyb20gIi4uL1V0aWxpdGllcy9MYW5ndWFnZUNvZGVzIjsKaW1wb3J0IEJhc2VTdG9yZSBmcm9tICIuL0Jhc2UiOwoKdmFyIHJlc2V0U3RvcmUgPSBmdW5jdGlvbiByZXNldFN0b3JlKCkgewogIHJldHVybiB7CiAgICBicmV3ZXJzOiBpbml0TGFuZ3VhZ2VDb2RlT2JqZWN0KCksCiAgICBtYW51ZmFjdHVyZXJzOiBbXSwKICAgIHByb2R1Y3RTdGF0dXNlczogW10KICB9Owp9OwoKdmFyIF9yZXNldFN0b3JlID0gcmVzZXRTdG9yZSgpLAogICAgYnJld2VycyA9IF9yZXNldFN0b3JlLmJyZXdlcnMsCiAgICBtYW51ZmFjdHVyZXJzID0gX3Jlc2V0U3RvcmUubWFudWZhY3R1cmVycywKICAgIHByb2R1Y3RTdGF0dXNlcyA9IF9yZXNldFN0b3JlLnByb2R1Y3RTdGF0dXNlczsKCmV4cG9ydCB2YXIgRmlsdGVyID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRmlsdGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7CgogICAgdGhpcy5tYW51ZmFjdHVyZXJzID0gW107CiAgICB0aGlzLnByaWNlUmFuZ2VzID0gW107CiAgICB0aGlzLnByb2R1Y3RTdGF0dXNlcyA9IFtdOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEZpbHRlciwgW3sKICAgIGtleTogIm1hdGNoZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoZXMoYnJld2VyKSB7CiAgICAgIHJldHVybiB0aGlzLm1hdGNoZXNNYW51ZmFjdHVyZXJzKGJyZXdlcikgJiYgdGhpcy5tYXRjaGVzUHJpY2VSYW5nZXMoYnJld2VyKSAmJiB0aGlzLm1hdGNoZXNQcm9kdWN0U3RhdHVzZXMoYnJld2VyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXRjaGVzTWFudWZhY3R1cmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hlc01hbnVmYWN0dXJlcnMoYnJld2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5tYW51ZmFjdHVyZXJzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICB2YXIgbWFudWZhY3R1cmVyQ29kZW5hbWVzID0gYnJld2VyLm1hbnVmYWN0dXJlci52YWx1ZS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5jb2RlbmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtYW51ZmFjdHVyZXJDb2RlbmFtZXMuc29tZShmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiBfdGhpcy5tYW51ZmFjdHVyZXJzLmluY2x1ZGVzKHgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXRjaGVzUHJpY2VSYW5nZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoZXNQcmljZVJhbmdlcyhicmV3ZXIpIHsKICAgICAgaWYgKHRoaXMucHJpY2VSYW5nZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHZhciBwcmljZSA9IGJyZXdlci5wcmljZS52YWx1ZTsKICAgICAgcmV0dXJuIHRoaXMucHJpY2VSYW5nZXMuc29tZShmdW5jdGlvbiAocHJpY2VSYW5nZSkgewogICAgICAgIHJldHVybiBwcmljZVJhbmdlLm1pbiA8PSBwcmljZSAmJiBwcmljZSA8PSBwcmljZVJhbmdlLm1heDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWF0Y2hlc1Byb2R1Y3RTdGF0dXNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hlc1Byb2R1Y3RTdGF0dXNlcyhicmV3ZXIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wcm9kdWN0U3RhdHVzZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHZhciBzdGF0dXNDb2RlbmFtZXMgPSBicmV3ZXIucHJvZHVjdFN0YXR1cy52YWx1ZS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5jb2RlbmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBzdGF0dXNDb2RlbmFtZXMuc29tZShmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiBfdGhpczIucHJvZHVjdFN0YXR1c2VzLmluY2x1ZGVzKHgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b2dnbGVNYW51ZmFjdHVyZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZU1hbnVmYWN0dXJlcihtYW51ZmFjdHVyZXIpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5tYW51ZmFjdHVyZXJzLmluZGV4T2YobWFudWZhY3R1cmVyKTsKICAgICAgaWYgKGluZGV4IDwgMCkgdGhpcy5tYW51ZmFjdHVyZXJzLnB1c2gobWFudWZhY3R1cmVyKTtlbHNlIHRoaXMubWFudWZhY3R1cmVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH0sIHsKICAgIGtleTogInRvZ2dsZVByaWNlUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVByaWNlUmFuZ2UocHJpY2VSYW5nZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnByaWNlUmFuZ2VzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Lm1pbiA9PT0gcHJpY2VSYW5nZS5taW4gJiYgeC5tYXggPT09IHByaWNlUmFuZ2UubWF4OwogICAgICB9KTsKICAgICAgaWYgKGluZGV4IDwgMCkgdGhpcy5wcmljZVJhbmdlcy5wdXNoKHByaWNlUmFuZ2UpO2Vsc2UgdGhpcy5wcmljZVJhbmdlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfQogIH0sIHsKICAgIGtleTogInRvZ2dsZVByb2R1Y3RTdGF0dXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVByb2R1Y3RTdGF0dXMocHJvZHVjdFN0YXR1cykgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnByb2R1Y3RTdGF0dXNlcy5pbmRleE9mKHByb2R1Y3RTdGF0dXMpOwogICAgICBpZiAoaW5kZXggPCAwKSB0aGlzLnByb2R1Y3RTdGF0dXNlcy5wdXNoKHByb2R1Y3RTdGF0dXMpO2Vsc2UgdGhpcy5wcm9kdWN0U3RhdHVzZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGaWx0ZXI7Cn0oKTsKdmFyIGJyZXdlckZpbHRlciA9IG5ldyBGaWx0ZXIoKTsKCnZhciBCcmV3ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQmFzZVN0b3JlKSB7CiAgX2luaGVyaXRzKEJyZXdlciwgX0Jhc2VTdG9yZSk7CgogIGZ1bmN0aW9uIEJyZXdlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcmV3ZXIpOwoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQnJld2VyKS5jYWxsKHRoaXMpKTsKICB9CgogIF9jcmVhdGVDbGFzcyhCcmV3ZXIsIFt7CiAgICBrZXk6ICJmZXRjaEJyZXdlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQnJld2VycyhsYW5ndWFnZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBxdWVyeSA9IENsaWVudC5pdGVtcygpLnR5cGUoJ2JyZXdlcicpLm9yZGVyUGFyYW1ldGVyKCdlbGVtZW50cy5wcm9kdWN0X25hbWUnKTsKCiAgICAgIGlmIChsYW5ndWFnZSkgewogICAgICAgIHF1ZXJ5Lmxhbmd1YWdlUGFyYW1ldGVyKGxhbmd1YWdlKTsKICAgICAgfQoKICAgICAgcXVlcnkudG9PYnNlcnZhYmxlKCkucGlwZSh0YWtlVW50aWwodGhpcy5vYnNlcnZhYmxlVW5zdWJzY3JpYmUpKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKGxhbmd1YWdlKSB7CiAgICAgICAgICBicmV3ZXJzW2xhbmd1YWdlXSA9IHJlc3BvbnNlLml0ZW1zOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBicmV3ZXJzW2RlZmF1bHRMYW5ndWFnZV0gPSByZXNwb25zZS5pdGVtczsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5ub3RpZnlDaGFuZ2UoKTsKICAgICAgfSk7CiAgICB9IC8vIEFjdGlvbnMKCiAgfSwgewogICAga2V5OiAicHJvdmlkZUJyZXdlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvdmlkZUJyZXdlcihicmV3ZXJTbHVnLCBsYW5ndWFnZSkgewogICAgICB0aGlzLmZldGNoQnJld2VycyhsYW5ndWFnZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZUJyZXdlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb3ZpZGVCcmV3ZXJzKGxhbmd1YWdlKSB7CiAgICAgIHRoaXMuZmV0Y2hCcmV3ZXJzKGxhbmd1YWdlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlTWFudWZhY3R1cmVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvdmlkZU1hbnVmYWN0dXJlcnMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgQ2xpZW50LnRheG9ub215KCdtYW51ZmFjdHVyZXInKS50b09ic2VydmFibGUoKS5waXBlKHRha2VVbnRpbCh0aGlzLm9ic2VydmFibGVVbnN1YnNjcmliZSkpLnN1YnNjcmliZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBtYW51ZmFjdHVyZXJzID0gcmVzcG9uc2UudGF4b25vbXkudGVybXM7CgogICAgICAgIF90aGlzNC5ub3RpZnlDaGFuZ2UoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZVByb2R1Y3RTdGF0dXNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvdmlkZVByb2R1Y3RTdGF0dXNlcygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBDbGllbnQudGF4b25vbXkoJ3Byb2R1Y3Rfc3RhdHVzJykudG9PYnNlcnZhYmxlKCkucGlwZSh0YWtlVW50aWwodGhpcy5vYnNlcnZhYmxlVW5zdWJzY3JpYmUpKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcHJvZHVjdFN0YXR1c2VzID0gcmVzcG9uc2UudGF4b25vbXkudGVybXM7CgogICAgICAgIF90aGlzNS5ub3RpZnlDaGFuZ2UoKTsKICAgICAgfSk7CiAgICB9IC8vIE1ldGhvZHMKCiAgfSwgewogICAga2V5OiAiZ2V0QnJld2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCcmV3ZXIoYnJld2VyU2x1ZywgbGFuZ3VhZ2UpIHsKICAgICAgcmV0dXJuIGJyZXdlcnNbbGFuZ3VhZ2UgfHwgZGVmYXVsdExhbmd1YWdlXS5maW5kKGZ1bmN0aW9uIChicmV3ZXIpIHsKICAgICAgICByZXR1cm4gYnJld2VyLnVybFBhdHRlcm4udmFsdWUgPT09IGJyZXdlclNsdWc7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJyZXdlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJyZXdlcnMobGFuZ3VhZ2UpIHsKICAgICAgcmV0dXJuIGJyZXdlcnNbbGFuZ3VhZ2VdOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE1hbnVmYWN0dXJlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hbnVmYWN0dXJlcnMoKSB7CiAgICAgIHJldHVybiBtYW51ZmFjdHVyZXJzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFByb2R1Y3RTdGF0dXNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvZHVjdFN0YXR1c2VzKCkgewogICAgICByZXR1cm4gcHJvZHVjdFN0YXR1c2VzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEZpbHRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVyKCkgewogICAgICByZXR1cm4gYnJld2VyRmlsdGVyOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEZpbHRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyKGZpbHRlcikgewogICAgICBicmV3ZXJGaWx0ZXIgPSBmaWx0ZXI7CiAgICAgIHRoaXMubm90aWZ5Q2hhbmdlKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQnJld2VyOwp9KEJhc2VTdG9yZSk7Cgp2YXIgQnJld2VyU3RvcmUgPSBuZXcgQnJld2VyKCk7CmV4cG9ydCB7IEJyZXdlclN0b3JlLCByZXNldFN0b3JlIH07"},{"version":3,"sources":["/Users/sidharthsiva/Desktop/Dummy/kontent-sample-app-vue/src/Stores/Brewer.js"],"names":["Client","takeUntil","initLanguageCodeObject","defaultLanguage","BaseStore","resetStore","brewers","manufacturers","productStatuses","Filter","priceRanges","brewer","matchesManufacturers","matchesPriceRanges","matchesProductStatuses","length","manufacturerCodenames","manufacturer","value","map","x","codename","some","includes","price","priceRange","min","max","statusCodenames","productStatus","index","indexOf","push","splice","findIndex","brewerFilter","Brewer","language","query","items","type","orderParameter","languageParameter","toObservable","pipe","observableUnsubscribe","subscribe","response","notifyChange","brewerSlug","fetchBrewers","taxonomy","terms","find","urlPattern","filter","BrewerStore"],"mappings":"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","sourcesContent":["import { Client } from '../Client.js';\nimport { takeUntil } from 'rxjs/operators';\nimport { initLanguageCodeObject, defaultLanguage } from '../Utilities/LanguageCodes';\nimport BaseStore from './Base';\n\nconst resetStore = () => ({\n  brewers: initLanguageCodeObject(),\n  manufacturers: [],\n  productStatuses: []\n});\nlet { brewers, manufacturers, productStatuses } = resetStore();\n\nexport class Filter {\n  constructor() {\n    this.manufacturers = [];\n    this.priceRanges = [];\n    this.productStatuses = [];\n  }\n\n  matches(brewer) {\n    return this.matchesManufacturers(brewer) && this.matchesPriceRanges(brewer) && this.matchesProductStatuses(brewer);\n  }\n\n  matchesManufacturers(brewer) {\n    if (this.manufacturers.length === 0) {\n      return true;\n    }\n\n    let manufacturerCodenames = brewer.manufacturer.value.map(x => x.codename);\n    return manufacturerCodenames.some(x => this.manufacturers.includes(x));\n  }\n\n  matchesPriceRanges(brewer) {\n    if (this.priceRanges.length === 0) {\n      return true;\n    }\n\n    let price = brewer.price.value;\n\n    return this.priceRanges.some((priceRange) => priceRange.min <= price && price <= priceRange.max);\n  }\n\n  matchesProductStatuses(brewer) {\n    if (this.productStatuses.length === 0) {\n      return true;\n    }\n\n    let statusCodenames = brewer.productStatus.value.map(x => x.codename);\n    return statusCodenames.some((x) => this.productStatuses.includes(x));\n  }\n\n  toggleManufacturer(manufacturer) {\n    let index = this.manufacturers.indexOf(manufacturer);\n\n    if (index < 0) this.manufacturers.push(manufacturer); else this.manufacturers.splice(index, 1);\n  }\n\n  togglePriceRange(priceRange) {\n    let index = this.priceRanges.findIndex((x) => x.min === priceRange.min && x.max === priceRange.max);\n\n    if (index < 0) this.priceRanges.push(priceRange); else this.priceRanges.splice(index, 1);\n  }\n\n  toggleProductStatus(productStatus) {\n    let index = this.productStatuses.indexOf(productStatus);\n\n    if (index < 0) this.productStatuses.push(productStatus); else this.productStatuses.splice(index, 1);\n  }\n}\n\nlet brewerFilter = new Filter();\n\nclass Brewer extends BaseStore {\n  constructor() {\n    super();\n  }\n\n  fetchBrewers(language) {\n    var query = Client.items()\n      .type('brewer')\n      .orderParameter('elements.product_name');\n\n    if (language) {\n      query.languageParameter(language);\n    }\n\n    query.toObservable()\n      .pipe(takeUntil(this.observableUnsubscribe))\n      .subscribe(response => {\n        if (language) {\n          brewers[language] = response.items;\n        } else {\n          brewers[defaultLanguage] = response.items;\n        }\n        this.notifyChange();\n      });\n  }\n\n  // Actions\n  provideBrewer(brewerSlug, language) {\n    this.fetchBrewers(language);\n  }\n\n  provideBrewers(language) {\n    this.fetchBrewers(language);\n  }\n\n  provideManufacturers() {\n    Client.taxonomy('manufacturer')\n      .toObservable()\n      .pipe(takeUntil(this.observableUnsubscribe))\n      .subscribe(response => {\n        manufacturers = response.taxonomy.terms;\n        this.notifyChange();\n      });\n  }\n\n  provideProductStatuses() {\n    Client.taxonomy('product_status')\n      .toObservable()\n      .pipe(takeUntil(this.observableUnsubscribe))\n      .subscribe(response => {\n        productStatuses = response.taxonomy.terms;\n        this.notifyChange();\n      });\n  }\n\n  // Methods\n  getBrewer(brewerSlug, language) {\n    return brewers[language || defaultLanguage].find((brewer) => brewer.urlPattern.value === brewerSlug);\n  }\n\n  getBrewers(language) {\n    return brewers[language];\n  }\n\n  getManufacturers() {\n    return manufacturers;\n  }\n\n  getProductStatuses() {\n    return productStatuses;\n  }\n\n  getFilter() {\n    return brewerFilter;\n  }\n\n  setFilter(filter) {\n    brewerFilter = filter;\n    this.notifyChange();\n  }\n}\n\nlet BrewerStore = new Brewer();\n\nexport { BrewerStore, resetStore }\n"]}]}